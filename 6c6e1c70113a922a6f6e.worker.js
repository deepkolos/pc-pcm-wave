!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/pc-pcm-wave/",e(e.s="EIFZ")}({EIFZ:function(t,e,n){"use strict";function i(t){return Math.exp(-t/2*t/2)}function r(t){return function(e){return function(t){if(0===t)return 1;return Math.sin(Math.PI*t)/(Math.PI*t)}(e)*t(e)}}function s(t,e,n,i){void 0===i&&(i={});var r=new Float64Array(t.length*((n-e)/e+1));i.method=i.method||"cubic";var s=new u(t.length,r.length,{method:i.method,tension:i.tension||0,sincFilterSize:i.sincFilterSize||6,sincWindow:i.sincWindow||void 0});if(void 0===i.LPF&&(i.LPF=l[i.method]),i.LPF){i.LPFType=i.LPFType||"IIR";var o=p[i.LPFType];if(n>e)!function(t,e,n,i){for(var r=0,s=e.length;r<s;r++)e[r]=i.filter(n.interpolate(r,t));i.reset();for(var a=e.length-1;a>=0;a--)e[a]=i.filter(e[a])}(t,r,s,new o(i.LPFOrder||c[i.LPFType],n,e/2));else!function(t,e,n,i){for(var r=0,s=t.length;r<s;r++)t[r]=i.filter(t[r]);i.reset();for(var o=t.length-1;o>=0;o--)t[o]=i.filter(t[o]);a(t,e,n)}(t,r,s,new o(i.LPFOrder||c[i.LPFType],e,n/2))}else a(t,r,s);return r}function a(t,e,n){for(var i=0,r=e.length;i<r;i++)e[i]=n.interpolate(i,t)}function o(t){for(var e=new Float32Array(t.length*t[0].length),n=0,i=0;i<t.length;i++)e.set(t[i],n),n+=t[i].length;return e}function h(t,e,n){for(var i=n.length,r=0;r<i;r++)t.setUint8(e+r,n.charCodeAt(r))}n.r(e);var u=function(){function t(t,e,n){this.length_=t,this.scaleFactor_=(t-1)/e,this.interpolate=this.cubic,"point"===n.method?this.interpolate=this.point:"linear"===n.method?this.interpolate=this.linear:"sinc"===n.method&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,n.tension||0)),this.sincFilterSize_=n.sincFilterSize||1,this.kernel_=r(n.sincWindow||i)}var e=t.prototype;return e.point=function(t,e){return this.getClippedInput_(Math.round(this.scaleFactor_*t),e)},e.linear=function(t,e){t*=this.scaleFactor_;var n=Math.floor(t);return(1-(t-=n))*this.getClippedInput_(n,e)+t*this.getClippedInput_(n+1,e)},e.cubic=function(t,e){t*=this.scaleFactor_;var n=Math.floor(t),i=[this.getTangent_(n,e),this.getTangent_(n+1,e)],r=[this.getClippedInput_(n,e),this.getClippedInput_(n+1,e)],s=(t-=n)*t,a=t*s;return(2*a-3*s+1)*r[0]+(a-2*s+t)*i[0]+(-2*a+3*s)*r[1]+(a-s)*i[1]},e.sinc=function(t,e){t*=this.scaleFactor_;for(var n=Math.floor(t),i=n+this.sincFilterSize_,r=0,s=n-this.sincFilterSize_+1;s<=i;s++)r+=this.kernel_(t-s)*this.getClippedInput_(s,e);return r},e.getTangent_=function(t,e){return this.tangentFactor_*(this.getClippedInput_(t+1,e)-this.getClippedInput_(t-1,e))/2},e.getClippedInput_=function(t,e){return 0<=t&&t<this.length_?e[t]:0},t}(),f=function(){function t(t,e,n){var i=2*Math.PI*n/e,r=0;this.filters=[];for(var s=0;s<=t;s++)s-t/2==0?this.filters[s]=i:(this.filters[s]=Math.sin(i*(s-t/2))/(s-t/2),this.filters[s]*=.54-.46*Math.cos(2*Math.PI*s/t)),r+=this.filters[s];for(var a=0;a<=t;a++)this.filters[a]/=r;this.z=this.initZ_()}var e=t.prototype;return e.filter=function(t){this.z.buf[this.z.pointer]=t;for(var e=0,n=0,i=this.z.buf.length;n<i;n++)e+=this.filters[n]*this.z.buf[(this.z.pointer+n)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,e},e.reset=function(){this.z=this.initZ_()},e.initZ_=function(){for(var t=[],e=0;e<this.filters.length-1;e++)t.push(0);return{buf:t,pointer:0}},t}(),l={point:!1,linear:!1,cubic:!0,sinc:!0},c={IIR:16,FIR:71},p={IIR:function(){function t(t,e,n){for(var i=[],r=0;r<t;r++)i.push(this.getCoeffs_({Fs:e,Fc:n,Q:.5/Math.sin(Math.PI/(2*t)*(r+.5))}));this.stages=[];for(var s=0;s<i.length;s++)this.stages[s]={b0:i[s].b[0],b1:i[s].b[1],b2:i[s].b[2],a1:i[s].a[0],a2:i[s].a[1],k:i[s].k,z:[0,0]}}var e=t.prototype;return e.filter=function(t){for(var e=t,n=0,i=this.stages.length;n<i;n++)e=this.runStage_(n,e);return e},e.getCoeffs_=function(t){var e={z:[0,0],a:[],b:[]},n=this.preCalc_(t,e);return e.k=1,e.b.push((1-n.cw)/(2*n.a0)),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e},e.preCalc_=function(t,e){var n={},i=2*Math.PI*t.Fc/t.Fs;return n.alpha=Math.sin(i)/(2*t.Q),n.cw=Math.cos(i),n.a0=1+n.alpha,e.a0=n.a0,e.a.push(-2*n.cw/n.a0),e.k=1,e.a.push((1-n.alpha)/n.a0),n},e.runStage_=function(t,e){var n=e*this.stages[t].k-this.stages[t].a1*this.stages[t].z[0]-this.stages[t].a2*this.stages[t].z[1],i=this.stages[t].b0*n+this.stages[t].b1*this.stages[t].z[0]+this.stages[t].b2*this.stages[t].z[1];return this.stages[t].z[1]=this.stages[t].z[0],this.stages[t].z[0]=n,i},e.reset=function(){for(var t=0;t<this.stages.length;t++)this.stages[t].z=[0,0]},t}(),FIR:f},g=function(t){for(var e=0,n=[],i=t.length,r=0;r<i;r++)e+=Math.pow(t[r],2),(r+1)%256==0?(n.push(e),e=0):r===i-1&&n.push(e);return n};self.addEventListener("message",(function(t){var e=t.data,n=e.type,i=e.audioBuffers,r=e.inputSampleRate,a=e.outputSampleRate;if("short-energy"===n&&self.postMessage(g(o(i))),"wav"===n){var u=s(o(i),r,a);self.postMessage(function(t,e,n){void 0===e&&(e=44100),void 0===n&&(n=1);var i=new ArrayBuffer(2*t.length+44),r=new DataView(i);h(r,0,"RIFF"),r.setUint32(4,44+2*t.length,!0),h(r,8,"WAVE"),h(r,12,"fmt "),r.setUint32(16,16,!0),r.setUint16(20,1,!0),r.setUint16(22,n,!0),r.setUint32(24,e,!0),r.setUint32(28,2*e,!0),r.setUint16(32,2*n,!0),r.setUint16(34,16,!0),h(r,36,"data"),r.setUint32(40,2*t.length,!0);for(var s=44,a=t.length,o=0;o<a;o++)r.setInt16(s,32767*t[o],!0),s+=2;return i}(u,a))}}))}});
//# sourceMappingURL=6c6e1c70113a922a6f6e.worker.js.map